import { Book } from './book.js';
import { IGenre } from './types.js';
import { Notepad } from './notepad.js';
import { BookCollection, ProductCollection, } from './books-collection.js';
import { getBookInfo } from './goole-books.js';
import { upperCase } from './string-helper.js';
import { search, lookup } from 'google-books-search';
// function findBook(
//   genre: string,
//   page: number,
//   multipleRecommendation = true,
// ): Book | Book[] {
//   const findAlgorithm = (book: Book) => {
//     return book.genre === genre && book.price <= page;
//   };
//
//   if (multipleRecommendation) {
//     return books.filter(findAlgorithm);
//   } else {
//     return books.find(findAlgorithm);
//   }
// }
//
// console.log(findBook('fantasy', 500));
const jkRowling = {
    firstName: 'J.K.',
    lastName: 'Rowling',
    // rating: 4.6,
};
const harryPotter = new Book('Harry Potter', IGenre.Fantasy, 500, jkRowling);
const magicCreatures = new Book('Magic Creatures', IGenre.Fantasy, 340, jkRowling);
const unicornNotepad = new Notepad('Unicorn power', 30);
const cart = new ProductCollection();
cart.set(harryPotter.name, harryPotter);
cart.set(magicCreatures.name, magicCreatures);
cart.set(unicornNotepad.name, unicornNotepad);
const favoriteBookShelf = new BookCollection();
favoriteBookShelf.set(harryPotter.name, harryPotter);
favoriteBookShelf.set(magicCreatures.name, magicCreatures);
function getSummary(collection) {
    if (collection instanceof BookCollection) {
        return `Total ${cart.size} books on the shelf.`;
    }
    if (collection instanceof ProductCollection) {
        return `Total ${cart.price} p. for ${cart.size}`;
    }
    return 'No special summary for this kind of collection.';
}
console.log(getSummary(cart));
console.log(getSummary(favoriteBookShelf));
// =================================================================
console.log('================================================================');
// Асинхронный код
const bookNameRequest = Promise.resolve('harryPotter');
bookNameRequest.then(name => {
    console.log(name.toUpperCase());
});
const harryPotterIsbn = '9783940862211';
getBookInfo(harryPotterIsbn)
    .then(book => {
    console.log(book.volumeInfo.title);
})
    .catch(err => {
    console.log(err);
});
const optionalAuthor = {
    rating: 5,
    booksWritten: 10,
};
const fullAuthor = {
    firstName: 'J. K.',
    lastName: 'Rowling',
    birthDate: new Date(),
    booksWritten: 15,
    rating: 4.7,
};
const author = {
    firstName: 'J. K',
    lastName: 'Rowling',
};
const book = new Book('Harry Potter', IGenre.Fantasy, 100, author);
console.log(book);
// =================================================================
console.log('================================================================');
console.log('Урок 3');
console.log('================================================================');
console.log('upperCase Text: ', upperCase('Harry Potter'));
// console.log(search, lookup);
const searchCallback = (error, results) => {
    if (error) {
        console.log(error);
    }
    else {
        console.log(results[0]);
    }
};
search('harry potter and the sorcerer\'s stone', {
    type: 'magazines',
}, searchCallback);
lookup('xieSuAAACAAJ', (err, results) => {
    if (err)
        console.log(err);
    else
        console.log(results);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVqQyxPQUFPLEVBQWMsTUFBTSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ2hELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDdkMsT0FBTyxFQUNMLGNBQWMsRUFFZCxpQkFBaUIsR0FDbEIsTUFBTSx1QkFBdUIsQ0FBQztBQUUvQixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFnQyxNQUFNLHFCQUFxQixDQUFDO0FBRW5GLHFCQUFxQjtBQUNyQixtQkFBbUI7QUFDbkIsa0JBQWtCO0FBQ2xCLG1DQUFtQztBQUNuQyxxQkFBcUI7QUFDckIsNENBQTRDO0FBQzVDLHlEQUF5RDtBQUN6RCxPQUFPO0FBQ1AsRUFBRTtBQUNGLGtDQUFrQztBQUNsQywwQ0FBMEM7QUFDMUMsYUFBYTtBQUNiLHdDQUF3QztBQUN4QyxNQUFNO0FBQ04sSUFBSTtBQUNKLEVBQUU7QUFDRix5Q0FBeUM7QUFFekMsTUFBTSxTQUFTLEdBQWU7SUFDNUIsU0FBUyxFQUFFLE1BQU07SUFDakIsUUFBUSxFQUFFLFNBQVM7SUFDbkIsZUFBZTtDQUNoQixDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzdFLE1BQU0sY0FBYyxHQUFHLElBQUksSUFBSSxDQUM3QixpQkFBaUIsRUFDakIsTUFBTSxDQUFDLE9BQU8sRUFDZCxHQUFHLEVBQ0gsU0FBUyxDQUNWLENBQUM7QUFDRixN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QUMsUUFBUSxDQUFDLENBQUM7QUFDdEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrRUFBa0UsQ0FBQyxDQUFDO0FBRWhGLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7QUFFM0QsK0JBQStCO0FBRS9CLE1BQU0sY0FBYyxHQUEyQixDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUNoRSxJQUFJLEtBQUssRUFBRTtRQUNULE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDcEI7U0FBTTtRQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDekI7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsd0NBQXdDLEVBQUU7SUFDL0MsSUFBSSxFQUFFLFdBQVc7Q0FDbEIsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUduQixNQUFNLENBQUMsY0FBYyxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3RDLElBQUksR0FBRztRQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7O1FBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDNUIsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rIH0gZnJvbSAnLi9ib29rLmpzJztcbmltcG9ydCB7IElBdXRob3IgfSBmcm9tICcuL2F1dGhvci5qcyc7XG5pbXBvcnQgeyBCb29rQXV0aG9yLCBJR2VucmUgfSBmcm9tICcuL3R5cGVzLmpzJztcbmltcG9ydCB7IE5vdGVwYWQgfSBmcm9tICcuL25vdGVwYWQuanMnO1xuaW1wb3J0IHtcbiAgQm9va0NvbGxlY3Rpb24sXG4gIENvbGxlY3Rpb24sXG4gIFByb2R1Y3RDb2xsZWN0aW9uLFxufSBmcm9tICcuL2Jvb2tzLWNvbGxlY3Rpb24uanMnO1xuaW1wb3J0IHsgQ29sbGVjdGlvbk5ldyB9IGZyb20gJy4vY29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBnZXRCb29rSW5mbyB9IGZyb20gJy4vZ29vbGUtYm9va3MuanMnO1xuaW1wb3J0IHsgSVJhdGluZ2FibGUgfSBmcm9tICcuL3JhdGluZ2FibGUuanMnO1xuaW1wb3J0IHsgdXBwZXJDYXNlIH0gZnJvbSAnLi9zdHJpbmctaGVscGVyLmpzJztcbmltcG9ydCB7IHNlYXJjaCwgbG9va3VwLCBDYWxsYmFjaywgQm9vayBhcyBCb29rR29vZ2xlIH0gZnJvbSAnZ29vZ2xlLWJvb2tzLXNlYXJjaCc7XG5cbi8vIGZ1bmN0aW9uIGZpbmRCb29rKFxuLy8gICBnZW5yZTogc3RyaW5nLFxuLy8gICBwYWdlOiBudW1iZXIsXG4vLyAgIG11bHRpcGxlUmVjb21tZW5kYXRpb24gPSB0cnVlLFxuLy8gKTogQm9vayB8IEJvb2tbXSB7XG4vLyAgIGNvbnN0IGZpbmRBbGdvcml0aG0gPSAoYm9vazogQm9vaykgPT4ge1xuLy8gICAgIHJldHVybiBib29rLmdlbnJlID09PSBnZW5yZSAmJiBib29rLnByaWNlIDw9IHBhZ2U7XG4vLyAgIH07XG4vL1xuLy8gICBpZiAobXVsdGlwbGVSZWNvbW1lbmRhdGlvbikge1xuLy8gICAgIHJldHVybiBib29rcy5maWx0ZXIoZmluZEFsZ29yaXRobSk7XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgcmV0dXJuIGJvb2tzLmZpbmQoZmluZEFsZ29yaXRobSk7XG4vLyAgIH1cbi8vIH1cbi8vXG4vLyBjb25zb2xlLmxvZyhmaW5kQm9vaygnZmFudGFzeScsIDUwMCkpO1xuXG5jb25zdCBqa1Jvd2xpbmc6IEJvb2tBdXRob3IgPSB7XG4gIGZpcnN0TmFtZTogJ0ouSy4nLFxuICBsYXN0TmFtZTogJ1Jvd2xpbmcnLFxuICAvLyByYXRpbmc6IDQuNixcbn07XG5cbmNvbnN0IGhhcnJ5UG90dGVyID0gbmV3IEJvb2soJ0hhcnJ5IFBvdHRlcicsIElHZW5yZS5GYW50YXN5LCA1MDAsIGprUm93bGluZyk7XG5jb25zdCBtYWdpY0NyZWF0dXJlcyA9IG5ldyBCb29rKFxuICAnTWFnaWMgQ3JlYXR1cmVzJyxcbiAgSUdlbnJlLkZhbnRhc3ksXG4gIDM0MCxcbiAgamtSb3dsaW5nLFxuKTtcbmNvbnN0IHVuaWNvcm5Ob3RlcGFkID0gbmV3IE5vdGVwYWQoJ1VuaWNvcm4gcG93ZXInLCAzMCk7XG5cbmNvbnN0IGNhcnQgPSBuZXcgUHJvZHVjdENvbGxlY3Rpb24oKTtcbmNhcnQuc2V0KGhhcnJ5UG90dGVyLm5hbWUsIGhhcnJ5UG90dGVyKTtcbmNhcnQuc2V0KG1hZ2ljQ3JlYXR1cmVzLm5hbWUsIG1hZ2ljQ3JlYXR1cmVzKTtcbmNhcnQuc2V0KHVuaWNvcm5Ob3RlcGFkLm5hbWUsIHVuaWNvcm5Ob3RlcGFkKTtcblxuY29uc3QgZmF2b3JpdGVCb29rU2hlbGYgPSBuZXcgQm9va0NvbGxlY3Rpb24oKTtcbmZhdm9yaXRlQm9va1NoZWxmLnNldChoYXJyeVBvdHRlci5uYW1lLCBoYXJyeVBvdHRlcik7XG5mYXZvcml0ZUJvb2tTaGVsZi5zZXQobWFnaWNDcmVhdHVyZXMubmFtZSwgbWFnaWNDcmVhdHVyZXMpO1xuXG5mdW5jdGlvbiBnZXRTdW1tYXJ5KGNvbGxlY3Rpb246IENvbGxlY3Rpb25OZXc8dW5rbm93bj4pOiBzdHJpbmcge1xuICBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIEJvb2tDb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGBUb3RhbCAke2NhcnQuc2l6ZX0gYm9va3Mgb24gdGhlIHNoZWxmLmA7XG4gIH1cblxuICBpZiAoY29sbGVjdGlvbiBpbnN0YW5jZW9mIFByb2R1Y3RDb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGBUb3RhbCAke2NhcnQucHJpY2V9IHAuIGZvciAke2NhcnQuc2l6ZX1gO1xuICB9XG5cbiAgcmV0dXJuICdObyBzcGVjaWFsIHN1bW1hcnkgZm9yIHRoaXMga2luZCBvZiBjb2xsZWN0aW9uLic7XG59XG5cbmNvbnNvbGUubG9nKGdldFN1bW1hcnkoY2FydCkpO1xuY29uc29sZS5sb2coZ2V0U3VtbWFyeShmYXZvcml0ZUJvb2tTaGVsZikpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKTtcbi8vINCQ0YHQuNC90YXRgNC+0L3QvdGL0Lkg0LrQvtC0XG5cbmNvbnN0IGJvb2tOYW1lUmVxdWVzdCA9IFByb21pc2UucmVzb2x2ZSgnaGFycnlQb3R0ZXInKTtcblxuYm9va05hbWVSZXF1ZXN0LnRoZW4obmFtZSA9PiB7XG4gIGNvbnNvbGUubG9nKG5hbWUudG9VcHBlckNhc2UoKSk7XG59KTtcblxuY29uc3QgaGFycnlQb3R0ZXJJc2JuID0gJzk3ODM5NDA4NjIyMTEnO1xuXG5nZXRCb29rSW5mbyhoYXJyeVBvdHRlcklzYm4pXG4gIC50aGVuKGJvb2sgPT4ge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYm9vay52b2x1bWVJbmZvLnRpdGxlLFxuICAgICAgLy8gYm9vay52b2x1bWVJbmZvLmRlc2NyaXB0aW9uLFxuICAgICAgLy8gYm9vay52b2x1bWVJbmZvLmF1dGhvcnNbMF0sXG4gICAgKTtcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbmludGVyZmFjZSBPcHRpb25hbEF1dGhvciBleHRlbmRzIFBhcnRpYWw8SVJhdGluZ2FibGU+IHtcbiAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICBsYXN0TmFtZT86IHN0cmluZztcbiAgYmlydGhEYXRlPzogRGF0ZTtcbiAgYm9va3NXcml0dGVuPzogbnVtYmVyO1xufVxuXG5jb25zdCBvcHRpb25hbEF1dGhvcjogT3B0aW9uYWxBdXRob3IgPSB7XG4gIHJhdGluZzogNSxcbiAgYm9va3NXcml0dGVuOiAxMCxcbn07XG5cbmNvbnN0IGZ1bGxBdXRob3I6IFJlcXVpcmVkPE9wdGlvbmFsQXV0aG9yPiA9IHtcbiAgZmlyc3ROYW1lOiAnSi4gSy4nLFxuICBsYXN0TmFtZTogJ1Jvd2xpbmcnLFxuICBiaXJ0aERhdGU6IG5ldyBEYXRlKCksXG4gIGJvb2tzV3JpdHRlbjogMTUsXG4gIHJhdGluZzogNC43LFxufTtcblxuY29uc3QgYXV0aG9yOiBCb29rQXV0aG9yID0ge1xuICBmaXJzdE5hbWU6ICdKLiBLJyxcbiAgbGFzdE5hbWU6ICdSb3dsaW5nJyxcbn07XG5cbmNvbnN0IGJvb2sgPSBuZXcgQm9vaygnSGFycnkgUG90dGVyJywgSUdlbnJlLkZhbnRhc3ksIDEwMCwgYXV0aG9yKTtcbmNvbnNvbGUubG9nKGJvb2spO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY29uc29sZS5sb2coJz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKTtcbmNvbnNvbGUubG9nKCfQo9GA0L7QuiAzJyk7XG5jb25zb2xlLmxvZygnPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpO1xuXG5jb25zb2xlLmxvZygndXBwZXJDYXNlIFRleHQ6ICcsIHVwcGVyQ2FzZSgnSGFycnkgUG90dGVyJykpO1xuXG4vLyBjb25zb2xlLmxvZyhzZWFyY2gsIGxvb2t1cCk7XG5cbmNvbnN0IHNlYXJjaENhbGxiYWNrOiBDYWxsYmFjazxCb29rR29vZ2xlW10+ID0gKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHRzWzBdKTtcbiAgfVxufTtcblxuc2VhcmNoKCdoYXJyeSBwb3R0ZXIgYW5kIHRoZSBzb3JjZXJlclxcJ3Mgc3RvbmUnLCB7XG4gIHR5cGU6ICdtYWdhemluZXMnLFxufSwgc2VhcmNoQ2FsbGJhY2spO1xuXG5cbmxvb2t1cCgneGllU3VBQUFDQUFKJywgKGVyciwgcmVzdWx0cykgPT4ge1xuICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICBlbHNlIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xufSk7XG5cbiJdfQ==