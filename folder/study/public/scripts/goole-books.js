import fetch from 'node-fetch';
export function getBookInfo(isbn) {
    return fetch('https://www.googleapis.com/books/v1/volumes?q=isbn:' + isbn)
        .then(response => response.text())
        .then(responseText => JSON.parse(responseText))
        .then(data => {
        // console.log(typeof data);
        if (data.totalItems === 0) {
            throw Error(`There is no books with isbn ${isbn}`);
        }
        return data.items[0];
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vbGUtYm9va3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZ29vbGUtYm9va3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBb0IvQixNQUFNLFVBQVUsV0FBVyxDQUFDLElBQVk7SUFDdEMsT0FBTyxLQUFLLENBQUMscURBQXFELEdBQUcsSUFBSSxDQUFDO1NBQ3ZFLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUNqQyxJQUFJLENBQWdCLFlBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDWCw0QkFBNEI7UUFDNUIsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRTtZQUN6QixNQUFNLEtBQUssQ0FBQywrQkFBK0IsSUFBSSxFQUFFLENBQUMsQ0FBQztTQUNwRDtRQUVELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCb29rIH0gZnJvbSAnLi9ib29rLmpzJztcbmltcG9ydCBmZXRjaCBmcm9tICdub2RlLWZldGNoJztcblxuZXhwb3J0IGludGVyZmFjZSBJQm9va1Jlc3BvbnNlIHtcbiAga2luZDogc3RyaW5nO1xuICB0b3RhbEl0ZW1zOiBudW1iZXI7XG4gIGl0ZW1zOiBJQm9va1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCb29rIHtcbiAgaWQ6IHN0cmluZztcbiAga2luZDogc3RyaW5nO1xuICBldGFnOiBzdHJpbmc7XG4gIHZvbHVtZUluZm86IHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGF1dGhvcnM6IHN0cmluZ1tdO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgcHVibGlzaGVkRGF0ZTogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Qm9va0luZm8oaXNibjogc3RyaW5nKSB7XG4gIHJldHVybiBmZXRjaCgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYm9va3MvdjEvdm9sdW1lcz9xPWlzYm46JyArIGlzYm4pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgIC50aGVuPElCb29rUmVzcG9uc2U+KHJlc3BvbnNlVGV4dCA9PiBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCkpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YgZGF0YSk7XG4gICAgICBpZiAoZGF0YS50b3RhbEl0ZW1zID09PSAwKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBUaGVyZSBpcyBubyBib29rcyB3aXRoIGlzYm4gJHtpc2JufWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YS5pdGVtc1swXTtcbiAgICB9KTtcbn1cbiJdfQ==